# 1. API주소를 설계하여 README에 내용을 작성하시오.

## RestFul하게 API 변경하기 - 화면 요구사항으로부터의 API

### 회원가입 (POST /auth/members)

- 요청
    
    ```json
    POST /auth/members HTTP/1.1
    Content-Type: application/json;charset=UTF-8
    Content-Length: 78
    Host: localhost:8080

    {
	    "email": "moly@kakao.com",
	    "password": "iwantkakao",
	    "name": "moly"
    }
    ```
    
- 성공 응답
    
    ```java
    201 Created
    {
    	"success": true,
    	"response": null,
    	"error": null
    }
    ```
    
- 실패 응답
    
    ```java
    400 Bad Request
    {
    	"success": false,
    	"response": null,
    	"error": {
    		"message" : "이메일 형식으로 작성해주세요.",
        "status" : 400
    	}
    }
    ```
    
    ```java
    400 Bad Request
    {
    	"success": false,
    	"response": null,
    	"error": {
    		"message" : "동일한 이메일이 존재합니다.",
        "status" : 400
    	}
    }
    ```
    
    ```java
    400 Bad Request
    {
    	"success": false,
    	"response": null,
    	"error": {
    		"message" : "비밀번호는 영문, 숫자, 특수문자가 포함되어야하고 8에서 20자 이내여야 합니다.",
        "status" : 400
    	}
    }
    ```
    

---

### 로그인(POST /auth/login)

- 요청
    
    ```json
    POST /auth/login HTTP/1.1
    Content-Type: application/json;charset=UTF-8
    Content-Length: 59
    Host: localhost:8080
    
    {
    	"email": "moly@kakao.com",
    	"password": "iwantkakao"
    }
    ```
    
- 성공 응답
    
    ```json
    200 OK
    	"success": true,
    	"response": {
    		"token": "sdqfefwegfeiiejfjeofjc..."
    	},
    	"error": null
    }
    ```
    
- 실패 응답
    
    ```java
    400 Bad Request
    {
    	"success": false,
    	"response": null,
    	"error": {
    		"message" : "이메일 또는 아이디가 적절하지 않습니다.",
            "status" : 400
    	}
    }
    ```
    

### 이메일중복체크(POST /auth/email)

- 요청
    
    ```json
    POST /auth/email HTTP/1.1
    Content-Type: application/json;charset=UTF-8
    Content-Length: 30
    Host: localhost:8080
    
    {
    	"email": "moly@kakao.com"
    }
    ```
    
- 성공 응답
    
    ```json
    200 OK
    	"success": true,
    	"response": {
    		"message": "사용 가능한 이메일입니다."
    	},
    	"error": null
    }	
    ```
    
- 실패 응답
    
    ```json
    400 Bad Request
    	"success": false,
    	"response": null,
    	"error": {
    		"message": "사용 중인 이메일입니다. 다른 이메일을 사용해주세요.",
    		"status": 400
    	}
    }
    ```
    

### 전체 상품 목록 조회(GET /products?page={page_number})

- 요청
    
    ```json
    GET /products?page={page_number} HTTP/1.1
    Host: localhost:8080
    ```
    
- 성공 응답
    
    ```json
    200 OK
    {
        "success": true,
        "response": [
            {
                "id": 1,
                "productName": "기본에 슬라이딩 지퍼백 크리스마스/플라워에디션 에디션 외 주방용품 특가전",
                "description": "",
                "image": "/images/1.jpg",
                "price": 1000
            },
            {
                "id": 2,
                "productName": "[황금약단밤 골드]2022년산 햇밤 칼집밤700g외/군밤용/생율",
                "description": "",
                "image": "/images/2.jpg",
                "price": 2000
            },
            {
                "id": 3,
                "productName": "삼성전자 JBL JR310 외 어린이용/성인용 헤드셋 3종!",
                "description": "",
                "image": "/images/3.jpg",
                "price": 30000
            },
            {
                "id": 4,
                "productName": "바른 누룽지맛 발효효소 2박스 역가수치보장 / 외 7종",
                "description": "",
                "image": "/images/4.jpg",
                "price": 4000
            },
            {
                "id": 5,
                "productName": "[더주] 컷팅말랑장족, 숏다리 100g/300g 외 주전부리 모음 /중독성 최고/마른안주",
                "description": "",
                "image": "/images/5.jpg",
                "price": 5000
            },
            {
                "id": 6,
                "productName": "굳지않는 앙금절편 1,050g 2팩 외 우리쌀떡 모음전",
                "description": "",
                "image": "/images/6.jpg",
                "price": 15900
            },
            {
                "id": 7,
                "productName": "eoe 이너딜리티 30포, 오렌지맛 고 식이섬유 보충제",
                "description": "",
                "image": "/images/7.jpg",
                "price": 26800
            },
            {
                "id": 8,
                "productName": "제나벨 PDRN 크림 2개. 피부보습/진정 케어",
                "description": "",
                "image": "/images/8.jpg",
                "price": 25900
            },
            {
                "id": 9,
                "productName": "플레이스테이션 VR2 호라이즌 번들. 생생한 몰입감",
                "description": "",
                "image": "/images/9.jpg",
                "price": 797000
            }
        ],
        "error": null
    }
    ```
    
- 실패 응답
    
    ```json
    404 Not Found
    {
    	"success": false,
    	"response": null,
    	"error": {
    		"message" : "존재하지 않는 페이지입니다.",
        "status" : 404
    	}
    }
    ```
    

### 개별 상품 상세 조회(GET /products/{product_id})

- 요청
    
    ```json
    GET /products/{product_id} HTTP/1.1   
     ```
    
- 성공 응답
    
    ```json
    200 OK
    {
        "success": true,
        "response": {
            "id": 1,
            "productName": "기본에 슬라이딩 지퍼백 크리스마스/플라워에디션 에디션 외 주방용품 특가전",
            "description": "",
            "image": "/images/1.jpg",
            "price": 1000,
            "starCount": 5,
            "options": [
                {
                    "id": 1,
                    "optionName": "01. 슬라이딩 지퍼백 크리스마스에디션 4종",
                    "price": 10000
                },
                {
                    "id": 2,
                    "optionName": "02. 슬라이딩 지퍼백 플라워에디션 5종",
                    "price": 10900
                },
                {
                    "id": 3,
                    "optionName": "고무장갑 베이지 S(소형) 6팩",
                    "price": 9900
                },
                {
                    "id": 4,
                    "optionName": "뽑아쓰는 키친타올 130매 12팩",
                    "price": 16900
                },
                {
                    "id": 5,
                    "optionName": "2겹 식빵수세미 6매",
                    "price": 8900
                }
            ]
        },
        "error": null
    }
    ```
    
- 실패 응답
    
    ```json
    404 Not Found
    {
    	"success": false,
    	"response": null,
    	"error": {
    		"message" : "존재하지 않는 상품입니다.",
            "status" : 400
    	}
    }
    ```
    

### 장바구니 조회(GET /carts)

- 요청
    
    ```json
    GET /carts HTTP/1.1
    Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
    Host: localhost:8080
    ```
    
- 성공 응답
    
    ```json
    200 OK
    {
      "success" : true,
      "response" : {
        "products" : [ {
          "id" : 1,
          "productName" : "기본에 슬라이딩 지퍼백 크리스마스/플라워에디션 에디션 외 주방용품 특가전",
          "carts" : [ {
            "id" : 1,
            "option" : {
              "id" : 5,
              "optionName" : "2겹 식빵수세미 6매",
              "price" : 8900
            },
            "quantity" : 3,
            "price" : 26700
          } ]
        }, {
          "id" : 3,
          "productName" : "삼성전자 JBL JR310 외 어린이용/성인용 헤드셋 3종!",
          "carts" : [ {
            "id" : 2,
            "option" : {
              "id" : 10,
              "optionName" : "JR310BT (무선 전용) - 레드",
              "price" : 49900
            },
            "quantity" : 4,
            "price" : 199600
          }, {
            "id" : 3,
            "option" : {
              "id" : 11,
              "optionName" : "JR310BT (무선 전용) - 그린",
              "price" : 49900
            },
            "quantity" : 5,
            "price" : 249500
          } ]
        } ],
        "totalPrice" : 475800
      },
      "error" : null
    }
    ```
    
- 실패 응답
    
    ```json
    400 Bad Request
    {
    	"success": false,
    	"response": null,
    	"error": {
    		"message" : "회원 인증에 실패했습니다.",
        "status" : 400
    	}
    }
    ```
    

### 장바구니 담기(POST /carts)

- 요청
    
    ```json
    POST /carts HTTP/1.1
    Content-Type: application/json;charset=UTF-8
    Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9...
    Content-Length: 82
    Host: localhost:8080
    
    [ {
      "optionId" : 1,
      "quantity" : 5
    }, {
      "optionId" : 2,
      "quantity" : 5
    } ]
    ```
    
- 성공 응답
    
    ```json
    200 OK
    {
      "success" : true,
      "response" : null,
      "error" : null
    }
    ```
    

### 주문하기(POST /order)

- 요청
    
    ```json
    POST /order HTTP/1.1
    Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
    Host: localhost:8080
    ```
    
- 성공 응답
    
    ```json
    {
      "success" : true,
      "response" : {
        "id" : 2,
        "products" : [ {
          "productName" : "기본에 슬라이딩 지퍼백 크리스마스/플라워에디션 에디션 외 주방용품 특가전",
          "items" : [ {
            "id" : 4,
            "optionName" : "2겹 식빵수세미 6매",
            "quantity" : 3,
            "price" : 26700
          } ]
        }, {
          "productName" : "삼성전자 JBL JR310 외 어린이용/성인용 헤드셋 3종!",
          "items" : [ {
            "id" : 5,
            "optionName" : "JR310BT (무선 전용) - 레드",
            "quantity" : 4,
            "price" : 199600
          }, {
            "id" : 6,
            "optionName" : "JR310BT (무선 전용) - 그린",
            "quantity" : 5,
            "price" : 249500
          } ]
        } ],
        "totalPrice" : 475800
      },
      "error" : null
    ```
    

### 주문결과 확인(GET /order)

- 요청
    
    ```json
    GET /order HTTP/1.1
    Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
    Host: localhost:8080
    ```
    
- 성공 응답
    
    ```json
    {
      "success" : true,
      "response" : {
        "id" : 1,
        "products" : [ {
          "productName" : "기본에 슬라이딩 지퍼백 크리스마스/플라워에디션 에디션 외 주방용품 특가전",
          "items" : [ {
            "id" : 1,
            "optionName" : "01. 슬라이딩 지퍼백 크리스마스에디션 4종",
            "quantity" : 5,
            "price" : 50000
          }, {
            "id" : 2,
            "optionName" : "02. 슬라이딩 지퍼백 플라워에디션 5종",
            "quantity" : 5,
            "price" : 54500
          } ]
        }, {
          "productName" : "삼성전자 JBL JR310 외 어린이용/성인용 헤드셋 3종!",
          "items" : [ {
            "id" : 3,
            "optionName" : "JR310BT (무선 전용) - 레드",
            "quantity" : 5,
            "price" : 249500
          } ]
        } ],
        "totalPrice" : 354000
      },
      "error" : null
    }
    ```
    
- 실패 응답
    
    ```json
    401 Unauthorized
    {
    	"success": false,
    	"response": null,
    	"error": {
    		"message" : "존재하지 않는 회원입니다.",
        "status" : 401
    	}
    }
    ```
    

### 장바구니 수정(PUT /carts)

- 요청
    
    ```json
    PUT /carts HTTP/1.1
    Content-Type: application/json;charset=UTF-8
    Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9...
    Content-Length: 78
    Host: localhost:8080
    
    [ {
      "cartId" : 1,
      "quantity" : 3
    }, {
      "cartId" : 2,
      "quantity" : 5
    } ]
    ```
    
- 응답
    
    ```json
    {
      "success" : true,
      "response" : {
        "carts" : [ {
          "cartId" : 1,
          "optionId" : 5,
          "optionName" : "2겹 식빵수세미 6매",
          "quantity" : 3,
          "price" : 26700
        }, {
          "cartId" : 2,
          "optionId" : 10,
          "optionName" : "JR310BT (무선 전용) - 레드",
          "quantity" : 5,
          "price" : 249500
        }, {
          "cartId" : 3,
          "optionId" : 11,
          "optionName" : "JR310BT (무선 전용) - 그린",
          "quantity" : 5,
          "price" : 249500
        } ],
        "totalPrice" : 525700
      },
      "error" : null
    }
    ```
    

---

## 추가 도출한 기능의 API

### 상품 - 상품 등록(POST /order)

- 요청
    
    ```json
    POST /order HTTP/1.1
    Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
    Host: localhost:8080
    
    {
    	"productName": "기본에 슬라이딩 지퍼백 크리스마스/플라워에디션 에디션 외 주방용품 특가전",
      "description": "",
      "image": "/images/1.jpg",
      "price": 1000,
      "options": [
    		{
          "optionName": "01. 슬라이딩 지퍼백 크리스마스에디션 4종",
          "price": 10000
    		}, {
          "optionName": "02. 슬라이딩 지퍼백 플라워에디션 5종",
          "price": 10900
        }, {
          "optionName": "고무장갑 베이지 S(소형) 6팩",
          "price": 9900
        }, {
          "optionName": "뽑아쓰는 키친타올 130매 12팩",
          "price": 16900
        }, {
          "optionName": "2겹 식빵수세미 6매",
          "price": 8900
        } 
    	]
    }
    ```
    
- 성공 응답
    
    ```json
    {
        "success": true,
        "response": {
            "id": 1,
            "productName": "기본에 슬라이딩 지퍼백 크리스마스/플라워에디션 에디션 외 주방용품 특가전",
            "description": "",
            "image": "/images/1.jpg",
            "price": 1000,
            "starCount": 5,
            "options": [
                {
                    "id": 1,
                    "optionName": "01. 슬라이딩 지퍼백 크리스마스에디션 4종",
                    "price": 10000
                },
                {
                    "id": 2,
                    "optionName": "02. 슬라이딩 지퍼백 플라워에디션 5종",
                    "price": 10900
                },
                {
                    "id": 3,
                    "optionName": "고무장갑 베이지 S(소형) 6팩",
                    "price": 9900
                },
                {
                    "id": 4,
                    "optionName": "뽑아쓰는 키친타올 130매 12팩",
                    "price": 16900
                },
                {
                    "id": 5,
                    "optionName": "2겹 식빵수세미 6매",
                    "price": 8900
                }
            ]
        },
        "error": null
    }
    ```
    
- 실패 응답
    
    ```json
    400 Bad Request
    {
    	"success": false,
    	"response": null,
    	"error": {
    		"message" : "상품 등록에 실패했습니다.",
        "status" : 400
    	}
    }
    ```
    

### 주문 - 주문 취소(DELETE /order/{order_id})

- 요청
    
    ```json
    DELETE /order/{order_id} HTTP/1.1
    Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
    Host: localhost:8080
    ```
    
- 성공 응답
    
    ```json
    200 OK
    {
        "success": true,
        "response": {
    			"message": "주문이 취소되었습니다."
    		},
        "error": null
    }
    ```
    
- 실패 응답
    
    ```json
    400 Bad Request
    {
    	"success": false,
    	"response": null,
    	"error": {
    		"message" : "상품 등록에 실패했습니다.",
        "status" : 400
    	}
    }
    ```
    

### 주문 - 주문 내역 변경(PATCH /order/{order_id})

- 요청
    
    ```json
    PATCH /order/{order_id} HTTP/1.1
    Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
    Host: localhost:8080
    
    {
      "optionId" : 4,
      "quantity" : 10
    }
    ```
    
- 성공 응답
    
    ```json
    200 OK
    {
      "success" : true,
      "response" : {
        "id" : 2,
        "products" : [ {
          "productName" : "기본에 슬라이딩 지퍼백 크리스마스/플라워에디션 에디션 외 주방용품 특가전",
          "items" : [ {
            "id" : 4,
            "optionName" : "2겹 식빵수세미 6매",
            "quantity" : 10,
            "price" : 26700
          } ]
        }, {
          "productName" : "삼성전자 JBL JR310 외 어린이용/성인용 헤드셋 3종!",
          "items" : [ {
            "id" : 5,
            "optionName" : "JR310BT (무선 전용) - 레드",
            "quantity" : 4,
            "price" : 199600
          }, {
            "id" : 6,
            "optionName" : "JR310BT (무선 전용) - 그린",
            "quantity" : 5,
            "price" : 249500
          } ]
        } ],
        "totalPrice" : 475800
      },
      "error" : null
    ```
    
- 실패 응답
    
    ```json
    400 Bad Request
    {
    	"success": false,
    	"response": null,
    	"error": {
    		"message" : "주문 변경에 실패했습니다.",
        "status" : 400
    	}
    }
    ```
    

### 사용자 - 사용자 비밀번호 수정(PUT /auth/password)

- 요청
    
    ```json
    PUT /auth/password HTTP/1.1
    Content-Type: application/json;charset=UTF-8
    Content-Length: 30
    Host: localhost:8080
    
    {
      "password" : "newnewnew"
    }
    ```
    
- 성공 응답
    
    ```json
    200 OK
    	"success": true,
    	"response": {
    		"message": "성공적으로 변경되었습니다."
    	},
    	"error": null
    }	
    ```
    
- 실패 응답