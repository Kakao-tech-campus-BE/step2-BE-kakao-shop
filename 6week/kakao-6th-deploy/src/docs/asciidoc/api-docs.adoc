= 카카오 쇼핑하기 RestAPI
jinc20 <choyj5971@gmail.com>
:toc: left
:toclevels: 2
:source-highlighter: highlight.js

ifndef::snippets[]
:snippets: ./build/generated-snippets
endif::[]

:user: user-rest-controller-test
:product: product-rest-controller-test
:cart: cart-rest-controller-test
:order: order-rest-controller-test


== 회원

=== 이메일 중복체크
* (POST) /check
* 이메일(email)
* 이메일의 형식을 지켜 기존에 등록되지 않은 이메일 주소를 입력한다.

==== 요청 예시

include::{snippets}/{user}/check_test/http-request.adoc[]

==== 응답 예시
include::{snippets}/{user}/check_test/response-body.adoc[]

=== 이메일 중복체크 실패 1 - 이메일 중복
* 기존에 등록된 이메일 주소를 입력하면 실패한다.

==== 요청 예시
include::{snippets}/{user}/check_fail_test_email_conflict/http-request.adoc[]

==== 응답 예시
include::{snippets}/{user}/check_fail_test_email_conflict/response-body.adoc[]

=== 이메일 중복체크 실패 2 - 잘못된 이메일 형식
* 이메일 형식을 지키지 않으면 실패한다.

==== 요청 예시
include::{snippets}/{user}/check_fail_test_email_form/http-request.adoc[]

==== 응답 예시
include::{snippets}/{user}/check_fail_test_email_form/response-body.adoc[]

=== 회원가입
* (POST) /join
* 이메일(email), 비밀번호(password), 사용자이름(username)
* 이메일은 형식을 지키며 기존 주소와 중복되지 않는다.
* 비밀번호는 8~20자 이내 길이로 영문, 숫자, 특수문자가 포함되며 공백이 포함되지 않는다.
* 사용자 이름은 8~45자 이내이다.

==== 요청 예시
include::{snippets}/{user}/join_test/http-request.adoc[]

==== 응답 예시
include::{snippets}/{user}/join_test/response-body.adoc[]

=== 회원가입 실패 1 - 잘못된 이메일 형식
* 이메일 주소 형식을 지키지 않으면 실패한다.

==== 요청 예시
include::{snippets}/{user}/join_fail_test_email_form/http-request.adoc[]

==== 응답 예시
include::{snippets}/{user}/join_fail_test_email_form/response-body.adoc[]

=== 회원가입 실패 2 - 잘못된 비밀번호 형식
* 비밀번호 구성에 영문, 숫자, 특수문자 모두가 포함되지 않으면 실패한다.
* 비밀번호에 공백이 포함되면 실패한다.

==== 요청 예시
include::{snippets}/{user}/join_fail_test_password_form/http-request.adoc[]

==== 응답 예시
include::{snippets}/{user}/join_fail_test_password_form/response-body.adoc[]

=== 회원가입 실패 3 - 이메일 중복
* 기존에 등록된 이메일 주소일 경우 실패한다.

==== 요청 예시
include::{snippets}/{user}/join_fail_test_email_conflict/http-request.adoc[]

==== 응답 예시
include::{snippets}/{user}/join_fail_test_email_conflict/response-body.adoc[]

=== 회원가입 실패 4 - 비밀번호 길이
* 비밀번호가 8~20자 이내가 아니면 실패한다.

==== 요청 예시
include::{snippets}/{user}/join_fail_test_password_length/http-request.adoc[]

==== 응답 예시
include::{snippets}/{user}/join_fail_test_password_length/response-body.adoc[]

=== 회원가입 실패 5 - 회원이름 길이
* 회원이름 길이가 8~45자 이내가 아니면 실패한다.

==== 요청 예시
include::{snippets}/{user}/join_fail_test_username_length/http-request.adoc[]

==== 응답 예시
include::{snippets}/{user}/join_fail_test_username_length/response-body.adoc[]

=== 로그인
* (POST) /login
* 이메일(email), 비밀번호(password)
* 이메일은 기존에 등록되어 있는 주소를 이메일 형식을 지켜 입력한다.
* 비밀번호는 8~20자 이내 길이로 영문, 숫자, 특수문자가 포함되며 공백이 포함되지 않는다.
* 입력한 비밀번호는 입력한 이메일 주소의 실제 비밀번호와 일치해야 한다.

==== 요청 예시
include::{snippets}/{user}/login_test/http-request.adoc[]

==== 응답 예시
include::{snippets}/{user}/login_test/response-body.adoc[]

=== 로그인 실패 1 - 잘못된 이메일 형식
* 이메일 주소 형식을 지키지 않으면 실패한다.

==== 요청 예시
include::{snippets}/{user}/login_fail_test_email_form/http-request.adoc[]

==== 응답 예시
include::{snippets}/{user}/login_fail_test_email_form/response-body.adoc[]

=== 로그인 실패 2 - 잘못된 비밀번호 형식
* 비밀번호 구성에 영문, 숫자, 특수문자 모두가 포함되지 않으면 실패한다.
* 비밀번호에 공백이 포함되면 실패한다.

==== 요청 예시
include::{snippets}/{user}/login_fail_test_password_form/http-request.adoc[]

==== 응답 예시
include::{snippets}/{user}/login_fail_test_password_form/response-body.adoc[]

=== 로그인 실패 3 - 비밀번호 불일치
* 입력한 이메일 주소의 실제 비밀번호와 입력한 비밀번호가 일치하지 않으면 실패한다.

==== 요청 예시
include::{snippets}/{user}/login_fail_test_password_mismatch/http-request.adoc[]

==== 응답 예시
include::{snippets}/{user}/login_fail_test_password_mismatch/response-body.adoc[]

=== 로그인 실패 4 - 비밀번호 길이
* 비밀번호가 8~20자 이내가 아니면 실패한다.

==== 요청 예시
include::{snippets}/{user}/login_fail_test_password_length/http-request.adoc[]

==== 응답 예시
include::{snippets}/{user}/login_fail_test_password_length/response-body.adoc[]

=== 로그인 실패 5 - 존재하지 않는 이메일
* 존재하지 않는 이메일 주소를 입력하면 실패한다.

==== 요청 예시
include::{snippets}/{user}/login_fail_test_email_not_found/http-request.adoc[]

==== 응답 예시
include::{snippets}/{user}/login_fail_test_email_not_found/response-body.adoc[]

== 상품

=== 전체 상품 목록 조회
* (GET) /products
* param : page={number}
* page의 디폴트 값은 0이다.

==== 요청 예시
include::{snippets}/{product}/find-all_test/http-request.adoc[]

==== 응답 예시
include::{snippets}/{product}/find-all_test/response-body.adoc[]

=== 전체 상품 목록 조회 실패 - 요청한 페이지 없음
* param으로 요청한 페이지가 존재하지 않으면 실패한다.

==== 요청 예시
include::{snippets}/{product}/find-all_fail_test_not_exist/http-request.adoc[]

==== 응답 예시
include::{snippets}/{product}/find-all_fail_test_not_exist/response-body.adoc[]

=== 개별 상품 상세 조회
* (GET) /products/{id}
* 상품 id로 해당 상품의 상세정보를 조회한다.

==== 요청 예시
include::{snippets}/{product}/find-by-id_test/http-request.adoc[]

==== 응답 예시
include::{snippets}/{product}/find-by-id_test/response-body.adoc[]

=== 개별 상품 상세 조회 실패 - 요청한 상품 없음
* 존재하지 않는 상품을 요청한 경우 실패한다.

==== 요청 예시
include::{snippets}/{product}/find-by-id_fail_test_not_exist/http-request.adoc[]

==== 응답 예시
include::{snippets}/{product}/find-by-id_fail_test_not_exist/response-body.adoc[]


== 장바구니

=== 장바구니 담기
* (POST) /carts/add
* optionId, quantity
* 담고자 하는 옵션의 id와 수량을 결정해 장바구니에 저장한다.

==== 요청 예시
include::{snippets}/{cart}/add-cart-list_test/http-request.adoc[]

==== 응답 예시
include::{snippets}/{cart}/add-cart-list_test/response-body.adoc[]

=== 장바구니 담기 실패 1 - 로그인되지 않음
* 로그인하지 않은 상태로 요청할 수 없다.

==== 요청 예시
include::{snippets}/{cart}/add-cart-list_fail_test_unauthorized/http-request.adoc[]

==== 응답 예시
include::{snippets}/{cart}/add-cart-list_fail_test_unauthorized/response-body.adoc[]

=== 장바구니 담기 실패 2 - 동일한 옵션 요청 불가
* 동일한 옵션을 한 요청에서 중복해서 담을 수 없다.

==== 요청 예시
include::{snippets}/{cart}/add-cart-list_fail_test_same_options/http-request.adoc[]

==== 응답 예시
include::{snippets}/{cart}/add-cart-list_fail_test_same_options/response-body.adoc[]

=== 장바구니 담기 실패 3 - 존재하지 않는 옵션 요청 불가
* 존재하지 않는 상품 옵션을 요청할 수 없다.

==== 요청 예시
include::{snippets}/{cart}/add-cart-list_fail_test_option_not_exist/http-request.adoc[]

==== 응답 예시
include::{snippets}/{cart}/add-cart-list_fail_test_option_not_exist/response-body.adoc[]

=== 장바구니 조회
* (GET) /carts

==== 요청 예시
include::{snippets}/{cart}/find-all_test/http-request.adoc[]

==== 응답 예시
include::{snippets}/{cart}/find-all_test/response-body.adoc[]

=== 장바구니 조회 실패 - 로그인되지 않음
* 로그인하지 않은 상태로 조회할 수 없다.

==== 요청 예시
include::{snippets}/{cart}/find-all_fail_test_unauthorized/http-request.adoc[]

==== 응답 예시
include::{snippets}/{cart}/find-all_fail_test_unauthorized/response-body.adoc[]


=== 장바구니 수정
* (POST) /carts/update
* 수정할 장바구니의 id와 변경할 수량을 결정한다.
* 주문하기를 할 때 장바구니 데이터를 update하고 그 결과를 응답받는다.
* 결재페이지에서 이 응답을 사용해도 되고, 다시 장바구니 조회 API를 사용해도 된다.
* cartId, quantity

==== 요청 예시
include::{snippets}/{cart}/update_test/http-request.adoc[]

==== 응답 예시
include::{snippets}/{cart}/update_test/response-body.adoc[]

=== 장바구니 수정 실패 1 - 로그인되지 않음
* 로그인하지 않은 상태로 요청할 수 없다.

==== 요청 예시
include::{snippets}/{cart}/update_fail_test_unauthorized/http-request.adoc[]

==== 응답 예시
include::{snippets}/{cart}/update_fail_test_unauthorized/response-body.adoc[]

=== 장바구니 수정 실패 2 - 장바구니 비어있음
* 장바구니가 빈 상태에서 장바구니 수정은 불가능하다.

==== 요청 예시
include::{snippets}/{cart}/update_fail_test_cart_empty/http-request.adoc[]

==== 응답 예시
include::{snippets}/{cart}/update_fail_test_cart_empty/response-body.adoc[]

=== 장바구니 수정 실패 3 - 동일한 옵션 요청 불가
* 동일한 옵션을 한 요청에서 중복해서 수정할 수 없다.

==== 요청 예시
include::{snippets}/{cart}/update_fail_test_options_same/http-request.adoc[]

==== 응답 예시
include::{snippets}/{cart}/update_fail_test_options_same/response-body.adoc[]

=== 장바구니 수정 실패 4 - 장바구니에 담기지 않은 옵션 요청 불가
* 장바구니에 존재하지 않는 옵션 id를 요청할 수 없다.

==== 요청 예시
include::{snippets}/{cart}/update_fail_test_cart-id_not_exist/http-request.adoc[]

==== 응답 예시
include::{snippets}/{cart}/update_fail_test_cart-id_not_exist/response-body.adoc[]


== 주문

=== 주문(결재)하기
* (POST) orders/save
* 기존에 장바구니에 담겨 있던 데이터가 모두 주문되고 장바구니는 비워진다.

==== 요청 예시
include::{snippets}/{order}/save_test/http-request.adoc[]

==== 응답 예시
include::{snippets}/{order}/save_test/response-body.adoc[]

=== 주문하기 실패 1 - 로그인되지 않음
* 로그인하지 않은 상태에서 주문할 수 없다.

==== 요청 예시
include::{snippets}/{order}/save_fail_test_unauthorized/http-request.adoc[]

==== 응답 예시
include::{snippets}/{order}/save_fail_test_unauthorized/response-body.adoc[]

=== 주문하기 실패 2 - 장바구니 비어있음
* 장바구니가 빈 상태이면 주문할 수 없다.

==== 요청 예시
include::{snippets}/{order}/save_fail_test_cart_empty/http-request.adoc[]

==== 응답 예시
include::{snippets}/{order}/save_fail_test_cart_empty/response-body.adoc[]

=== 주문 조회
* (GET) orders/{id}
* 해당 주문 id의 주문 상세정보를 조회한다.

==== 요청 예시
include::{snippets}/{order}/find-by-id_test/http-request.adoc[]

==== 응답 예시
include::{snippets}/{order}/find-by-id_test/response-body.adoc[]

=== 주문 조회 실패 1 - 로그인되지 않음
* 로그인하지 않은 상태로 주문정보를 조회할 수 없다.

==== 요청 예시
include::{snippets}/{order}/find-by-id_fail_test_unauthorized/http-request.adoc[]

==== 응답 예시
include::{snippets}/{order}/find-by-id_fail_test_unauthorized/response-body.adoc[]

=== 주문 조회 실패 2 - 주문을 찾을 수 없음
* 존재하지 않는 주문 id를 요청할 수 없다.

==== 요청 예시
include::{snippets}/{order}/find-by-id_fail_test_order_not_exist/http-request.adoc[]

==== 응답 예시
include::{snippets}/{order}/find-by-id_fail_test_order_not_exist/response-body.adoc[]